<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Swift混编库的那些事儿</title>
    <link href="/2022/09/16/Swift%E6%B7%B7%E7%BC%96%E5%BA%93%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/"/>
    <url>/2022/09/16/Swift%E6%B7%B7%E7%BC%96%E5%BA%93%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/</url>
    
    <content type="html"><![CDATA[<h5 id="1、在swift-framwork中调用oc且不向外暴露"><a href="#1、在swift-framwork中调用oc且不向外暴露" class="headerlink" title="1、在swift framwork中调用oc且不向外暴露"></a>1、在swift framwork中调用oc且不向外暴露</h5><ul><li>使用module.modulemap文件</li><li><code>Build Setting</code> -&gt;<code>Swift Compile - Search Path</code> 中设置<code>module.modulemap</code>路径 <code>&quot;$(SRCROOT)/xxx&quot;</code></li></ul><h5 id="2、提供的oc、swift混编私有-framework是动态库"><a href="#2、提供的oc、swift混编私有-framework是动态库" class="headerlink" title="2、提供的oc、swift混编私有.framework是动态库"></a>2、提供的oc、swift混编私有.framework是动态库</h5><ul><li>设置 <code>Build Setting</code> -&gt;<code>Build Libraries for Distribution</code>为<code>YES</code> 实现不同版本编译器之间的兼容问题</li></ul><h5 id="3、提供的oc、swift混编私有-framework是静态库-且podspec中依赖Alamofire这样的第三方库"><a href="#3、提供的oc、swift混编私有-framework是静态库-且podspec中依赖Alamofire这样的第三方库" class="headerlink" title="3、提供的oc、swift混编私有.framework是静态库 且podspec中依赖Alamofire这样的第三方库"></a>3、提供的oc、swift混编私有.framework是静态库 且podspec中依赖<code>Alamofire</code>这样的第三方库</h5><ul><li>设置 <code>Build Setting</code> -&gt;<code>Build Libraries for Distribution</code>为<code>YES</code> 实现不同版本编译器之间的兼容问题</li><li>集成方需要在podfile 中加入 以下代码<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ruby">post_install <span class="hljs-keyword">do</span> |<span class="hljs-params">installer</span>|<br>  installer.pods_project.targets.each <span class="hljs-keyword">do</span> |<span class="hljs-params">target</span>|<br>   target.build_configurations.each <span class="hljs-keyword">do</span> |<span class="hljs-params">config</span>|<br>    config.build_settings[<span class="hljs-string">&#x27;BUILD_LIBRARY_FOR_DISTRIBUTION&#x27;</span>] = <span class="hljs-string">&#x27;YES&#x27;</span><br>   <span class="hljs-keyword">end</span><br>  <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure></li></ul><h5 id="4、经过1的操作发现oc工程可以集成成功，swift工程中集成报了2个错-1-Failed-to-build-module-39-SwiftOCDynamicSdk-39-this-SDK-is-not-supported-by-the-compiler-the-SDK-is-built-with-39-Apple-Swift-version-5-5-swiftlang-1300-0-31-1-clang-1300-0-29-1-39-while-this-compiler-is-39-Apple-Swift-version-5-7-swiftlang-5-7-0-127-4-clang-1400-0-29-50-39-Please-select-a-toolchain-which-matches-the-SDK-2-No-such-module-‘OCXXXModule’"><a href="#4、经过1的操作发现oc工程可以集成成功，swift工程中集成报了2个错-1-Failed-to-build-module-39-SwiftOCDynamicSdk-39-this-SDK-is-not-supported-by-the-compiler-the-SDK-is-built-with-39-Apple-Swift-version-5-5-swiftlang-1300-0-31-1-clang-1300-0-29-1-39-while-this-compiler-is-39-Apple-Swift-version-5-7-swiftlang-5-7-0-127-4-clang-1400-0-29-50-39-Please-select-a-toolchain-which-matches-the-SDK-2-No-such-module-‘OCXXXModule’" class="headerlink" title="4、经过1的操作发现oc工程可以集成成功，swift工程中集成报了2个错 1.Failed to build module &#39;SwiftOCDynamicSdk&#39;; this SDK is not supported by the compiler (the SDK is built with &#39;Apple Swift version 5.5 (swiftlang-1300.0.31.1 clang-1300.0.29.1)&#39;, while this compiler is &#39;Apple Swift version 5.7 (swiftlang-5.7.0.127.4 clang-1400.0.29.50)&#39;). Please select a toolchain which matches the SDK. 2.No such module ‘OCXXXModule’"></a>4、经过1的操作发现oc工程可以集成成功，swift工程中集成报了2个错 1.<code>Failed to build module &#39;SwiftOCDynamicSdk&#39;; this SDK is not supported by the compiler (the SDK is built with &#39;Apple Swift version 5.5 (swiftlang-1300.0.31.1 clang-1300.0.29.1)&#39;, while this compiler is &#39;Apple Swift version 5.7 (swiftlang-5.7.0.127.4 clang-1400.0.29.50)&#39;). Please select a toolchain which matches the SDK.</code> 2.No such module ‘OCXXXModule’</h5><p><strong>骚操作来了</strong></p><ul><li>在swift工程中创建一个<code>module.modulemap</code>文件，并申明一个报错缺失的module<br>示例：<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#这里</span><br><span class="hljs-keyword">module</span> OCXXXModule <br>&#123;<br>    export *<br>&#125;<br></code></pre></td></tr></table></figure></li><li><code>Build Setting</code> -&gt;<code>Swift Compile - Search Path</code> 中设置<code>module.modulemap</code>路径 <code>&quot;$(SRCROOT)/xxx&quot;</code></li></ul><h4 id="5、拓展-Swift组件内调用OC，调用-OC-的私有头文件"><a href="#5、拓展-Swift组件内调用OC，调用-OC-的私有头文件" class="headerlink" title="5、拓展: Swift组件内调用OC，调用 OC 的私有头文件"></a>5、拓展: Swift组件内调用OC，调用 OC 的私有头文件</h4><p>5.1 该swift组件需要以二进制方式被集成</p><ul><li>原理同4<br>5.2 该swift组件以源码方式</li><li>import该私有module</li></ul>]]></content>
    
    
    <categories>
      
      <category>iOS</category>
      
      <category>Swift</category>
      
      <category>Framework</category>
      
    </categories>
    
    
    <tags>
      
      <tag>iOS</tag>
      
      <tag>Swift</tag>
      
      <tag>Framework</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>iOS动态调试[逆向04]</title>
    <link href="/2022/08/22/iOS%E5%8A%A8%E6%80%81%E8%B0%83%E8%AF%95-%E9%80%86%E5%90%9104/"/>
    <url>/2022/08/22/iOS%E5%8A%A8%E6%80%81%E8%B0%83%E8%AF%95-%E9%80%86%E5%90%9104/</url>
    
    <content type="html"><![CDATA[<h4 id="LLDB"><a href="#LLDB" class="headerlink" title="LLDB"></a>LLDB</h4><p>最老版本的Xcode的调试器是GDB后来苹果就在这基础上开发了LLDB<br>现在LLDB都是内嵌在Xcode中</p><h4 id="Xcode的调试原理"><a href="#Xcode的调试原理" class="headerlink" title="Xcode的调试原理"></a>Xcode的调试原理</h4><p>当我们在手机上连接Xcode进行真机调试的时候,Xcode识别手机后会将debug server安装到我们的手机上 (&#x2F;Developer&#x2F;usr&#x2F;bin&#x2F;debugserver)</p><blockquote><p>debugserver一开始是放在mac的Xcode中的<code>/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/9.0/DeveloperDiskImage.dmg/usr/bin/debugserver</code><br>当我们进入某个断点时,手机上的<code>debugsever</code>会监听<code>lldb</code>传过来的指令<br><code>debugserver</code>接收到指定的时候,再执行到我们的App上<br>接着App再把反馈信息传递给<code>debugserver</code> 然后<code>debugserver</code>再把消息反馈给<code>lldb</code>，<code>lldb</code>在把调试信息打印在Xcode上。</p></blockquote><p>Xcode调试具有局限性，只能调试通过Xcode安装的App</p><h4 id="动态调试任意App"><a href="#动态调试任意App" class="headerlink" title="动态调试任意App"></a>动态调试任意App</h4><p>通过上述Xcode的调试原理要想调试App debugserver、lldb这两个必不可少 因为没有源码 我们只能在终端上代替上面的Xcode</p><h5 id="step1"><a href="#step1" class="headerlink" title="step1."></a>step1.</h5><p>Xcode自动给我们按照的debugserver肯定是用不了了,因为权限不够。所以我们需要给他签上权限</p><p>从手机上拖出debugserver（&#x2F;Developer&#x2F;usr&#x2F;bin&#x2F;debugserver）<br>重签名 – 将下列保存成entitlement.entitlements放在debugserver同级文件夹（其实就 是个xml文件 后缀名不重要）</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">plist</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//Apple//DTD PLIST 1.0//EN&quot;</span>   <span class="hljs-string">&quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;</span>&gt;</span> <br><span class="hljs-tag">&lt;<span class="hljs-name">plist</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;1.0&quot;</span>&gt;</span> <br><span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span> <br> <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>com.apple.springboard.debugapplications<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span> <br> <span class="hljs-tag">&lt;<span class="hljs-name">true</span>/&gt;</span> <br> <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>get-task-allow<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span> <br> <span class="hljs-tag">&lt;<span class="hljs-name">true</span>/&gt;</span> <br> <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>task_for_pid-allow<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span> <br> <span class="hljs-tag">&lt;<span class="hljs-name">true</span>/&gt;</span> <br> <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>run-unsigned-code<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span> <br> <span class="hljs-tag">&lt;<span class="hljs-name">true</span>/&gt;</span> <br><span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span> <br><span class="hljs-tag">&lt;/<span class="hljs-name">plist</span>&gt;</span><br></code></pre></td></tr></table></figure><p>使用<code>codesign</code>重签名<code>codesign -s – –entitlements ./entitlement.entitlements -f debugserver</code><br>将签名完成的<code>debugserver</code>放入手机<code>usr/bin</code>目录下<br>并给权限</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">chomod +x <span class="hljs-regexp">/usr/</span>bin/debugserver<br></code></pre></td></tr></table></figure><p>这里不是之前替换原来的<code>debugserver</code> ,因为那个目录是只读的没有权限所以放在<code>/usr/bin/</code>下面</p><h5 id="step2"><a href="#step2" class="headerlink" title="step2."></a>step2.</h5><p>手机需要和mac做连接 详见SSH登录</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">python</span> /Users/apple/Desktop/jailbreak/usbmuxd/tcprelay.py -t <span class="hljs-number">22</span>:<span class="hljs-number">10010</span> <span class="hljs-number">10011</span>:<span class="hljs-number">10011</span>(让手机的<span class="hljs-number">22</span>、<span class="hljs-number">10011</span>端口映射到本地的<span class="hljs-number">10010</span>、<span class="hljs-number">10011</span>端口)<br></code></pre></td></tr></table></figure><p>登录手机</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">ssh</span> root<span class="hljs-variable">@localhost</span> -p <span class="hljs-number">10010</span><br></code></pre></td></tr></table></figure><p>监听进程</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">debugserver</span> *:<span class="hljs-number">10011</span> -a 【进程名】<br></code></pre></td></tr></table></figure><p>接下来就可以在mac终端进入lldb 进入调试模式 （和在xcode上敲lldb指令一样）</p><h4 id="debugserver-启动App"><a href="#debugserver-启动App" class="headerlink" title="debugserver 启动App"></a>debugserver 启动App</h4><p>可观察App是如何启动的</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">debugserver  -x <span class="hljs-built_in">auto</span> *:端口号 App的可执行文件路径 <br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>iOS</category>
      
      <category>逆向</category>
      
    </categories>
    
    
    <tags>
      
      <tag>iOS</tag>
      
      <tag>逆向</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cycript的使用[逆向03]</title>
    <link href="/2022/08/22/Cycript%E7%9A%84%E4%BD%BF%E7%94%A8-%E9%80%86%E5%90%9103/"/>
    <url>/2022/08/22/Cycript%E7%9A%84%E4%BD%BF%E7%94%A8-%E9%80%86%E5%90%9103/</url>
    
    <content type="html"><![CDATA[<h4 id="Cycript能干什么"><a href="#Cycript能干什么" class="headerlink" title="Cycript能干什么"></a>Cycript能干什么</h4><blockquote><p>Cycript可以用来探索、修改、调试正在运行的Mac&#x2F;iOS App</p></blockquote><p><a href="http://www.cycript.org/">官网：http://www.cycript.org/</a></p><p><a href="http://www.cycript.org/manual/">文档：http://www.cycript.org/manual/</a></p><p>通过Cydia安装Cycript就可以使用了</p><h4 id="Cycript开启和关闭"><a href="#Cycript开启和关闭" class="headerlink" title="Cycript开启和关闭"></a>Cycript开启和关闭</h4><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs mathematica"><span class="hljs-variable">Cycript</span><br><br><span class="hljs-variable">Cycript</span> <span class="hljs-operator">-</span><span class="hljs-variable">p</span> 进程<span class="hljs-variable">ID</span><span class="hljs-operator">/</span>进程名称<br><br><span class="hljs-type">#</span> 退出：<br><span class="hljs-variable">controle</span> <span class="hljs-operator">+</span> <span class="hljs-built_in">D</span><br><br>取消输入：<span class="hljs-variable">control</span> <span class="hljs-operator">+</span> <span class="hljs-built_in">C</span><br></code></pre></td></tr></table></figure><h4 id="获取进程名称-x2F-进程id"><a href="#获取进程名称-x2F-进程id" class="headerlink" title="获取进程名称&#x2F;进程id"></a>获取进程名称&#x2F;进程id</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># 获取所有进程</span><br><span class="hljs-built_in">ps</span> <span class="hljs-literal">-A</span><br><span class="hljs-built_in">ps</span> - A ｜ grep 关键词<br></code></pre></td></tr></table></figure><h4 id="Cycript常用语法"><a href="#Cycript常用语法" class="headerlink" title="Cycript常用语法"></a>Cycript常用语法</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs stylus">UIApp UIApp 等价于<span class="hljs-selector-attr">[UIApplication sharedApplication]</span><br><br>定义变量 <span class="hljs-selector-tag">var</span> 变量名 = 变量值<br><br>用内存地址获取对象 #内存地址<br><br>已加载的所有OC类 ObjectiveC<span class="hljs-selector-class">.classes</span><br><br>查看对象的所有成员变量 *对象<br><br>递归打印View的所有子控件 对象<span class="hljs-selector-class">.recursiveDescription</span>()<span class="hljs-selector-class">.toString</span>()<br><br>筛选出某种类型的对象 <span class="hljs-built_in">choose</span>(UIViewController) <span class="hljs-built_in">choose</span>(UITableViewCell)<br></code></pre></td></tr></table></figure><h4 id="Cycript高级使用"><a href="#Cycript高级使用" class="headerlink" title="Cycript高级使用"></a>Cycript高级使用</h4><p>我们可以将常用的Cycript代码封装在一个.cy文件中<br>导入XX.py @import XX</p>]]></content>
    
    
    <categories>
      
      <category>iOS</category>
      
      <category>逆向</category>
      
    </categories>
    
    
    <tags>
      
      <tag>iOS</tag>
      
      <tag>逆向</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ipa砸壳[逆向02]</title>
    <link href="/2022/08/22/ipa%E7%A0%B8%E5%A3%B3-%E9%80%86%E5%90%9102/"/>
    <url>/2022/08/22/ipa%E7%A0%B8%E5%A3%B3-%E9%80%86%E5%90%9102/</url>
    
    <content type="html"><![CDATA[<h4 id="验证可执行文件是否已经脱壳"><a href="#验证可执行文件是否已经脱壳" class="headerlink" title="验证可执行文件是否已经脱壳"></a>验证可执行文件是否已经脱壳</h4><ul><li>使用MachOView软件查看，Load Commands -&gt; LC_ENCRYPTION_INFO-&gt;Crypt ID的值 0代表未加密（已脱壳）</li><li>命令行工具<code> otool -l 可执行文件路径 ｜ grep crypt</code></li></ul><h4 id="砸壳工具一-CrackerXI-App"><a href="#砸壳工具一-CrackerXI-App" class="headerlink" title="砸壳工具一[CrackerXI App]"></a>砸壳工具一[CrackerXI App]</h4><ul><li>Cydia添加源<a href="http://apt.wxhbts.com/">http://apt.wxhbts.com/</a></li><li>安装CrackerXI</li><li>打开CrackerXI+选择你要砸壳的App</li><li>成功后会保存在&#x2F;var&#x2F;mobile&#x2F;Documents&#x2F;CrackerXI路径下</li></ul>]]></content>
    
    
    <categories>
      
      <category>iOS</category>
      
      <category>逆向</category>
      
    </categories>
    
    
    <tags>
      
      <tag>iOS</tag>
      
      <tag>逆向</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ssh登录iphone[逆向01]</title>
    <link href="/2022/08/22/ssh%E7%99%BB%E5%BD%95iphone-%E9%80%86%E5%90%9101/"/>
    <url>/2022/08/22/ssh%E7%99%BB%E5%BD%95iphone-%E9%80%86%E5%90%9101/</url>
    
    <content type="html"><![CDATA[<p>在iOS逆向工程中，经常需要通过命令行来对iphone下达指令。</p><blockquote><p>iOS下有两个常用的账户：root、mobile<br>root:最高权限<br>mobile:普通权限，只能操作一些普通文件<br>iOS设备对外提供ssh服务的端口号是22<br>iOS越狱设备通过Cydia安装OpenSSH工具</p></blockquote><h4 id="无线模式"><a href="#无线模式" class="headerlink" title="无线模式"></a>无线模式</h4><p>这种模式需要保证iOS设备和mac在同一局域网下</p><p>在mac终端输入$ssh 账户@ip地址 即可（初始密码：alpine 后续修改密码等详见Cydia中[OpenSSH 访问教程]、[Root 密码教程]）</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">ssh</span> root@<span class="hljs-number">127.0.0.1</span><br></code></pre></td></tr></table></figure><h4 id="有线模式"><a href="#有线模式" class="headerlink" title="有线模式"></a>有线模式</h4><p>该种方式采用的是Mac上的一个服务程序usbmuxd(&#x2F;System&#x2F;Library&#x2F;PrivateFrameworks&#x2F;MobileDevice.framework&#x2F;Resources&#x2F;usbmuxd)</p><p>原<a href="https://cgit.sukimashita.com/usbmuxd.git/snapshot/usbmuxd-1.0.8.tar.gz%E5%9C%A8macos">https://cgit.sukimashita.com/usbmuxd.git/snapshot/usbmuxd-1.0.8.tar.gz在macos</a> 12.3+ 上不适用 这里说另外一个iproxy</p><h5 id="安装usbmuxd工具包"><a href="#安装usbmuxd工具包" class="headerlink" title="安装usbmuxd工具包"></a>安装usbmuxd工具包</h5><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">brew </span><span class="hljs-keyword">install </span>usbmuxd<br></code></pre></td></tr></table></figure><h5 id="映射iphone22端口到mac并监听"><a href="#映射iphone22端口到mac并监听" class="headerlink" title="映射iphone22端口到mac并监听"></a>映射iphone22端口到mac并监听</h5><img src="listen.png" width = "100%" /><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">iproxy</span> <span class="hljs-number">10010</span> <span class="hljs-number">22</span><br></code></pre></td></tr></table></figure><h5 id="登录iOS设备"><a href="#登录iOS设备" class="headerlink" title="登录iOS设备"></a>登录iOS设备</h5><p>不要关闭step2的窗口，command+T 另开个终端界面</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">ssh -p <span class="hljs-number">10010</span> root@localhost<br><span class="hljs-regexp">//</span>或<br><span class="hljs-regexp">//</span>ssh root@<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span> -p <span class="hljs-number">10010</span><br></code></pre></td></tr></table></figure><h5 id="退出登录"><a href="#退出登录" class="headerlink" title="退出登录"></a>退出登录</h5><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-keyword">exit</span><br></code></pre></td></tr></table></figure><h4 id="免密登陆"><a href="#免密登陆" class="headerlink" title="免密登陆"></a>免密登陆</h4><h5 id="创建密钥"><a href="#创建密钥" class="headerlink" title="创建密钥"></a>创建密钥</h5><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">ssh-keygen</span><br></code></pre></td></tr></table></figure><h5 id="将生成的公钥追加到授权文件尾部（这里如果iOS-设备没有-ssh-文件夹，需要手动创建）"><a href="#将生成的公钥追加到授权文件尾部（这里如果iOS-设备没有-ssh-文件夹，需要手动创建）" class="headerlink" title="将生成的公钥追加到授权文件尾部（这里如果iOS 设备没有.ssh 文件夹，需要手动创建）"></a>将生成的公钥追加到授权文件尾部（这里如果iOS 设备没有.ssh 文件夹，需要手动创建）</h5><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ruby">scp -P <span class="hljs-number">10010</span> ~<span class="hljs-regexp">/.ssh/id</span>_rsa.pub root<span class="hljs-variable">@localhost</span><span class="hljs-symbol">:~/</span>.ssh<br></code></pre></td></tr></table></figure><h5 id="登录iOS设备执行"><a href="#登录iOS设备执行" class="headerlink" title="登录iOS设备执行"></a>登录iOS设备执行</h5><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs arcade">cat ~<span class="hljs-regexp">/.ssh/i</span>d_rsa.pub &gt;&gt; authorized_keys<br>rm  ~<span class="hljs-regexp">/.ssh/i</span>d_rsa.pub<br></code></pre></td></tr></table></figure><p>退出设备再次登录就不需要密码了</p>]]></content>
    
    
    <categories>
      
      <category>iOS</category>
      
      <category>逆向</category>
      
    </categories>
    
    
    <tags>
      
      <tag>iOS</tag>
      
      <tag>逆向</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>iOS自动化打包脚本</title>
    <link href="/2022/08/20/iOS%E8%87%AA%E5%8A%A8%E5%8C%96%E6%89%93%E5%8C%85%E8%84%9A%E6%9C%AC/"/>
    <url>/2022/08/20/iOS%E8%87%AA%E5%8A%A8%E5%8C%96%E6%89%93%E5%8C%85%E8%84%9A%E6%9C%AC/</url>
    
    <content type="html"><![CDATA[<blockquote><p>闲来无事学习一下shell</p></blockquote><h4 id="打包xcframework"><a href="#打包xcframework" class="headerlink" title="打包xcframework"></a>打包xcframework</h4><ul><li>由于xcode13的模拟器也包含arm64架构，移除模拟器arm64架构，<code>build Setting</code>&#x3D;&gt;<code>Excluded Architectures</code>&#x3D;&gt;勾选<code>Any ios simulator sdk</code> 添加<code>arm64</code> 也可在脚本中设置-arch</li></ul><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-comment">#!/bin/bash</span><br>set -e<br>set -u<br>set -o pipefail<br><br>SCHEME_NAME=sdk<br>WORKSPACE_NAME=sdk<br><span class="hljs-comment">#打包环境</span><br>CONFIGURATION=Release<br><br><span class="hljs-comment">#cd到脚本绝对路径下</span><br>ROOT_PATH=$(cd <span class="hljs-string">&quot;$(dirname &quot;</span><span class="hljs-variable">$&#123;BASH_SOURCE[0]&#125;</span><span class="hljs-string">&quot;)&quot;</span>; pwd)<br><span class="hljs-comment">#输出路径</span><br>EXPORT_PATH=<span class="hljs-variable">$&#123;ROOT_PATH&#125;</span>/archive<br><br><br><span class="hljs-comment">#chech scheme</span><br>xcodebuild -list || <span class="hljs-keyword">exit</span> <span class="hljs-number">0</span><br><br><span class="hljs-comment">#clean</span><br><span class="hljs-keyword">function</span> arch_clean &#123;<br>    xcodebuild clean \<br>    -workspace <span class="hljs-variable">$&#123;WORKSPACE_NAME&#125;</span>.xcworkspace \<br>    -scheme <span class="hljs-variable">$&#123;SCHEME_NAME&#125;</span> \<br>    -configuration <span class="hljs-variable">$&#123;CONFIGURATION&#125;</span><br>&#125;<br><br><span class="hljs-comment">#下面iphonesimulator15.5 可根据 xcodebuild -showsdks查看</span><br> <span class="hljs-comment"># #打包模拟器</span><br><span class="hljs-keyword">function</span> archive_simulator &#123;<br>     xcodebuild archive \<br>     -workspace <span class="hljs-variable">$&#123;WORKSPACE_NAME&#125;</span>.xcworkspace \<br>     -scheme <span class="hljs-variable">$&#123;SCHEME_NAME&#125;</span> \<br>     -destination=<span class="hljs-string">&quot;iOS Simulator&quot;</span> \<br>     -sdk iphonesimulator15.<span class="hljs-number">5</span> \ <br>     -configuration <span class="hljs-variable">$&#123;CONFIGURATION&#125;</span> \<br>     SKIP_INSTALL=NO \<br>     BUILD_LIBRARIES_FOR_DISTRIBUTION=YES \<br>     -archivePath <span class="hljs-variable">$&#123;EXPORT_PATH&#125;</span>/ios_simulator.xcarchive<br> &#125;<br><br><span class="hljs-keyword">function</span> archive_iosDevice &#123;<br>     xcodebuild archive \<br>     -workspace <span class="hljs-variable">$&#123;WORKSPACE_NAME&#125;</span>.xcworkspace \<br>     -scheme <span class="hljs-variable">$&#123;SCHEME_NAME&#125;</span> \<br>    -sdk iphoneos \<br>     -destination=<span class="hljs-string">&quot;iOS&quot;</span> \<br>     -configuration <span class="hljs-variable">$&#123;CONFIGURATION&#125;</span> \<br>     SKIP_INSTALL=NO \<br>     BUILD_LIBRARIES_FOR_DISTRIBUTION=YES \<br>     -archivePath <span class="hljs-variable">$&#123;EXPORT_PATH&#125;</span>/ios_device.xcarchive<br> &#125;<br><br> <span class="hljs-comment"># #创建xcframework</span><br> <span class="hljs-keyword">function</span> create_xcframework &#123;<br>     xcodebuild -create-xcframework \<br>     -framework <span class="hljs-variable">$&#123;EXPORT_PATH&#125;</span><span class="hljs-regexp">/ios_device.xcarchive/</span>Products<span class="hljs-regexp">/Library/</span>Frameworks/<span class="hljs-variable">$&#123;SCHEME_NAME&#125;</span>.framework \<br>     -framework <span class="hljs-variable">$&#123;EXPORT_PATH&#125;</span><span class="hljs-regexp">/ios_simulator.xcarchive/</span>Products<span class="hljs-regexp">/Library/</span>Frameworks/<span class="hljs-variable">$&#123;SCHEME_NAME&#125;</span>.framework \<br>     -output <span class="hljs-variable">$&#123;EXPORT_PATH&#125;</span>/<span class="hljs-variable">$&#123;SCHEME_NAME&#125;</span>.xcframework<br> &#125;<br><br><br> arch_clean || <span class="hljs-keyword">exit</span> <span class="hljs-number">0</span><br> archive_simulator || <span class="hljs-keyword">exit</span> <span class="hljs-number">0</span><br><br> <span class="hljs-keyword">if</span> [[ -e <span class="hljs-variable">$&#123;EXPORT_PATH&#125;</span>/ios_simulator.xcarchive ]] ;then<br>     echo -e <span class="hljs-string">&quot;\033[1135m🍺🍺🍺🍺🍺🍺xcarchive ios_simulator success!🍺🍺🍺🍺🍺🍺 \033[0m&quot;</span><br> <span class="hljs-keyword">else</span><br>     echo -e <span class="hljs-string">&quot;\033[1135m❌❌❌❌❌❌xcarchive ios_simulator fail!❌❌❌❌❌❌ \033[0m&quot;</span><br> fi<br><br>archive_iosDevice || <span class="hljs-keyword">exit</span> <span class="hljs-number">0</span><br><br><span class="hljs-keyword">if</span> [[ -e <span class="hljs-variable">$&#123;EXPORT_PATH&#125;</span>/ios_device.xcarchive ]] ;then<br>     echo -e <span class="hljs-string">&quot;\033[1135m🍺🍺🍺🍺🍺🍺xcarchiveios_device success!🍺🍺🍺🍺🍺🍺 \033[0m&quot;</span><br> <span class="hljs-keyword">else</span><br>     echo -e <span class="hljs-string">&quot;\033[1135m❌❌❌❌❌❌xcarchive ios_device fail!❌❌❌❌❌❌ \033[0m&quot;</span><br> fi<br><br> cd <span class="hljs-variable">$&#123;EXPORT_PATH&#125;</span> <br> create_xcframework || <span class="hljs-keyword">exit</span> <span class="hljs-number">0</span><br> <span class="hljs-keyword">if</span> [[ -e <span class="hljs-variable">$&#123;EXPORT_PATH&#125;</span>/<span class="hljs-variable">$&#123;SCHEME_NAME&#125;</span>.xcframework ]] ;then<br>    echo -e <span class="hljs-string">&quot;\033[1135m🍺🍺🍺🍺🍺🍺create $&#123;SCHEME_NAME&#125;.xcframework success!🍺🍺🍺🍺🍺🍺 \033[0m&quot;</span><br> <span class="hljs-keyword">else</span><br>     echo -e <span class="hljs-string">&quot;\033[1135m❌❌❌❌❌❌create $&#123;SCHEME_NAME&#125;.xcframework fail!❌❌❌❌❌❌ \033[0m&quot;</span><br> fi<br><br> open .<br><br></code></pre></td></tr></table></figure><h4 id="打包ipa"><a href="#打包ipa" class="headerlink" title="打包ipa"></a>打包ipa</h4><p>把shell脚本和ExportOptions.plist一起放在根目录下，下面例子中ExportOptions.plist为ad-hoc模式。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-comment">#!/bin/bash</span><br>set -e<br>set -u<br>set -o pipefail<br><br>SCHEME_NAME=SdkApp<br>WORKSPACE_NAME=sdk<br><span class="hljs-comment">#打包环境</span><br>CONFIGURATION=Release<br><span class="hljs-comment">#cd到脚本绝对路径下</span><br>ROOT_PATH=$(cd <span class="hljs-string">&quot;$(dirname &quot;</span><span class="hljs-variable">$&#123;BASH_SOURCE[0]&#125;</span><span class="hljs-string">&quot;)&quot;</span>; pwd)<br><span class="hljs-comment">#输出路径</span><br>EXPORT_PATH=<span class="hljs-variable">$&#123;ROOT_PATH&#125;</span>/archive<br>EXPORT_IPA_PATH=<span class="hljs-variable">$&#123;EXPORT_PATH&#125;</span>/ipa<br><br><span class="hljs-comment">#chech scheme</span><br>xcodebuild -list || <span class="hljs-keyword">exit</span> <span class="hljs-number">0</span><br><br><span class="hljs-comment">#clean</span><br><span class="hljs-keyword">function</span> arch_clean &#123;<br>    xcodebuild clean \<br>    -workspace <span class="hljs-variable">$&#123;WORKSPACE_NAME&#125;</span>.xcworkspace \<br>    -scheme <span class="hljs-variable">$&#123;SCHEME_NAME&#125;</span> \<br>    -configuration <span class="hljs-variable">$&#123;CONFIGURATION&#125;</span><br>&#125;<br><br><span class="hljs-comment">#编译</span><br><span class="hljs-keyword">function</span> archive &#123;<br>    xcodebuild archive \<br>    -workspace <span class="hljs-variable">$&#123;WORKSPACE_NAME&#125;</span>.xcworkspace \<br>    -scheme <span class="hljs-variable">$&#123;SCHEME_NAME&#125;</span> \<br>    -configuration <span class="hljs-variable">$&#123;CONFIGURATION&#125;</span> \<br>    -archivePath <span class="hljs-variable">$&#123;EXPORT_PATH&#125;</span>/<span class="hljs-variable">$&#123;SCHEME_NAME&#125;</span>.xcarchive<br>&#125;<br><br><span class="hljs-comment">#打包导出</span><br><span class="hljs-keyword">function</span> arch_export &#123;<br>    xcodebuild -exportArchive \<br>    -archivePath <span class="hljs-variable">$&#123;EXPORT_PATH&#125;</span>/<span class="hljs-variable">$&#123;SCHEME_NAME&#125;</span>.xcarchive \<br>    -exportPath <span class="hljs-variable">$&#123;EXPORT_IPA_PATH&#125;</span> \<br>    -exportOptionsPlist <span class="hljs-variable">$&#123;ROOT_PATH&#125;</span>/ExportOptions.plist <br>&#125;<br><br><br> arch_clean || <span class="hljs-keyword">exit</span> <span class="hljs-number">0</span><br> archive || <span class="hljs-keyword">exit</span> <span class="hljs-number">0</span><br><br> <span class="hljs-keyword">if</span> [[ -e <span class="hljs-variable">$&#123;EXPORT_PATH&#125;</span>/<span class="hljs-variable">$&#123;SCHEME_NAME&#125;</span>.xcarchive ]] ;then<br>     echo -e <span class="hljs-string">&quot;\033[1;35m🍺🍺🍺🍺🍺xcarchive success！🍺🍺 \033[0m&quot;</span><br> <span class="hljs-keyword">else</span><br>     echo -e <span class="hljs-string">&quot;\033[1;35m❌❌ fail ❌❌❌❌\033[0m&quot;</span><br> fi<br><br>arch_export || <span class="hljs-keyword">exit</span> <span class="hljs-number">0</span><br><br><span class="hljs-keyword">if</span> [[ -e <span class="hljs-variable">$&#123;EXPORT_IPA_PATH&#125;</span>/<span class="hljs-variable">$&#123;SCHEME_NAME&#125;</span>.ipa ]] ;then<br>     echo -e <span class="hljs-string">&quot;\033[1;35m🍺🍺🍺🍺🍺xcarchive success！🍺🍺 \033[0m&quot;</span><br> <span class="hljs-keyword">else</span><br>     echo -e <span class="hljs-string">&quot;\033[1;35m❌❌ fail ❌❌❌❌\033[0m&quot;</span><br> fi<br><br>open <span class="hljs-variable">$&#123;EXPORT_IPA_PATH&#125;</span><br></code></pre></td></tr></table></figure><p>ExportOptions.plist 文件&lt;可手动打包一次后，生成&gt;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">plist</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//Apple//DTD PLIST 1.0//EN&quot;</span> <span class="hljs-string">&quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">plist</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;1.0&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>destination<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>export<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>method<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>ad-hoc<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>signingStyle<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>automatic<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>stripSwiftSymbols<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">true</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>thinning<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span><span class="hljs-symbol">&amp;lt;</span>none<span class="hljs-symbol">&amp;gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">plist</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>iOS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>iOS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>墙纸收藏</title>
    <link href="/2022/08/20/%E5%A2%99%E7%BA%B8%E6%94%B6%E8%97%8F/"/>
    <url>/2022/08/20/%E5%A2%99%E7%BA%B8%E6%94%B6%E8%97%8F/</url>
    
    <content type="html"><![CDATA[<ul><li><a href="https://wallpaperhub.app/">https://wallpaperhub.app/</a></li><li><a href="https://wallhaven.cc/">https://wallhaven.cc/</a></li><li><a href="https://unsplash.com/">https://unsplash.com/</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>other</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>iOS制作私有库</title>
    <link href="/2022/08/03/iOS%E5%88%B6%E4%BD%9C%E7%A7%81%E6%9C%89%E5%BA%93/"/>
    <url>/2022/08/03/iOS%E5%88%B6%E4%BD%9C%E7%A7%81%E6%9C%89%E5%BA%93/</url>
    
    <content type="html"><![CDATA[<p>大致步骤入下:</p><ul><li>创建远程索引库、远程私有库</li><li>创建远程索引库时，最好同时初始化一个readme文件。否者后面操作会报错，解决也是需要在远程索引仓库创建一个空文件</li><li>创建本地私有库、关联远程私有库<ul><li>终端输入<code>pod lib create xxxSDK </code></li><li><code>cd xxxSDK</code></li><li><code>git remote add origin https:xxx.xxxSDK.git</code></li></ul></li><li>本地添加私有库索引<ul><li>终端输入<code>pod repo add name[索引名] source [远程索引地址]  </code> </li><li>例如：<code>pod repo add PluginPodspecs http://xxx.pluginpodspecs.git</code></li><li><code>pod repo list</code>查看</li></ul></li><li>添加本地私有库内容、修改<code>xxx.podspec</code>文件</li><li>本地校验<ul><li><code>pod lib lint --verbose --allow-warnings </code></li><li>如果私有库里有嵌套另一个私有库 在上面命令后面在加上参数<code>--sources=[索引库址],https://github.com/CocoaPods/Specs.git </code></li></ul></li><li>私有库提交到远程仓库、打tag<ul><li><code>xxx.podspec</code>文件具体可查看官方文档 <a href="https://guides.cocoapods.org/syntax/podspec.html">https://guides.cocoapods.org/syntax/podspec.html</a></li></ul></li><li>远程校验<ul><li><code>pod spec lint --allow-warnings --verbose</code></li></ul></li><li>提交本地索引到远程<ul><li><code>cd xxxSDK &amp;&amp; pod repo push [本地索引库] [索引文件名]</code>  </li><li><code>pod repo push PluginPodspecs xxxSDK.podspec --verbose --allow-warnings</code></li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>iOS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>iOS</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
